import{c as r,a as t,F as p,r as b,d as h,w as a,v as n,b as g,o as d,t as m,e as v}from"./index-DByFbDXx.js";import{_ as w}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _="https://github.com/hazielace.github.io/ReportsTkvue/assets/logo-tkambio-CPW9PRZR.png",x={data(){return{reportes:[{id:1,title:"Reporte de usuario 1",f_created_at:"29/01/2025"},{id:2,title:"Reporte de usuario 2",f_created_at:"29/01/2025"},{id:3,title:"Reporte de usuario 3",f_created_at:"29/01/2025"},{id:4,title:"Reporte de usuario 4",f_created_at:"29/01/2025"}],error:null,title:"",startdate:"",enddate:"",showResultado:!0,modalVisible:!1}},computed:{isFormValid(){return this.title.trim()!==""&&this.startdate!==""&&this.enddate!==""}},methods:{addReport(){if(!this.isFormValid)return;const i={id:this.reportes.length+1,title:this.title,f_created_at:new Date().toISOString().split("T")[0]};this.reportes.push(i),this.title="",this.startdate="",this.enddate="",this.closeModal()},downloadReport(i,e){const u=e+".xlsx",c=new Blob([new ArrayBuffer(0)],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),l=window.URL.createObjectURL(c),s=document.createElement("a");s.href=l,s.download=u,document.body.appendChild(s),s.click(),window.URL.revokeObjectURL(l)},Logout(){localStorage.clear(),this.$router.push("/")},openModal(){this.modalVisible=!0},closeModal(){this.modalVisible=!1}}},R={class:"header"},k={class:"container"},y={class:"table"},V={class:"text-left"},C={class:"text-center"},M={class:"text-right"},L=["onClick"],F={key:1},S={key:0,class:"modal-overlay"},T={class:"modal"},U={class:"form-group"},B={class:"form-group"},D={class:"date-fields"},j={class:"date-column"},q={class:"form-group"},I={class:"date-column"},N={class:"form-group"},O=["disabled"];function A(i,e,u,c,l,s){return d(),r(p,null,[t("header",R,[e[7]||(e[7]=t("div",{class:"logo-container"},[t("img",{src:_,alt:"",class:"logo"})],-1)),t("button",{onClick:e[0]||(e[0]=(...o)=>s.Logout&&s.Logout(...o)),class:"logout-button"},"Salir")]),t("div",k,[t("main",null,[e[11]||(e[11]=t("h1",{class:"title"},"Generador de reportes TK",-1)),t("table",y,[e[10]||(e[10]=t("thead",null,[t("tr",null,[t("th",{class:"text-left"},"Título"),t("th",{class:"text-center"},"Fecha de Creación"),t("th",{class:"text-right"},"Acción")])],-1)),t("tbody",null,[l.showResultado?(d(!0),r(p,{key:0},b(l.reportes,(o,f)=>(d(),r("tr",{key:f},[t("td",V,m(o.title),1),t("td",C,m(o.f_created_at),1),t("td",M,[t("span",{onClick:E=>s.downloadReport(o.id,o.title),class:"download-link"},e[8]||(e[8]=[v(" Descargar "),t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"icon-download"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 16.5v-13m0 13l3.75-3.75m-7.5 0L12 16.5M20.25 19.5H3.75"})],-1)]),8,L)])]))),128)):(d(),r("tr",F,e[9]||(e[9]=[t("td",{colspan:"3",class:"text-center"},"Sin resultados",-1)])))])]),t("button",{onClick:e[1]||(e[1]=(...o)=>s.openModal&&s.openModal(...o)),class:"add-button"},"Crear reporte")]),l.modalVisible?(d(),r("div",S,[t("div",T,[t("button",{onClick:e[2]||(e[2]=(...o)=>s.closeModal&&s.closeModal(...o)),class:"close-modal"},"×"),e[16]||(e[16]=t("h2",{class:"text-center"},"Reporte por fecha de nacimiento",-1)),e[17]||(e[17]=t("p",{class:"text-center"},"Ingresa los siguientes datos para generar tu reporte",-1)),t("form",{onSubmit:e[6]||(e[6]=h((...o)=>s.addReport&&s.addReport(...o),["prevent"])),class:"form-add"},[t("div",U,[e[12]||(e[12]=t("label",{for:"title"},"Descripción del reporte",-1)),a(t("input",{type:"text",id:"title","onUpdate:modelValue":e[3]||(e[3]=o=>l.title=o),placeholder:"Título del reporte",required:""},null,512),[[n,l.title]])]),t("div",B,[e[15]||(e[15]=t("label",{class:"text-center"},"Fecha de nacimiento",-1)),t("div",D,[t("div",j,[t("div",q,[e[13]||(e[13]=t("label",{for:"startdate"},"Inicio",-1)),a(t("input",{type:"date",id:"startdate","onUpdate:modelValue":e[4]||(e[4]=o=>l.startdate=o),required:""},null,512),[[n,l.startdate]])])]),t("div",I,[t("div",N,[e[14]||(e[14]=t("label",{for:"enddate"},"Fin",-1)),a(t("input",{type:"date",id:"enddate","onUpdate:modelValue":e[5]||(e[5]=o=>l.enddate=o),required:""},null,512),[[n,l.enddate]])])])])]),t("button",{type:"submit",class:"add-button",disabled:!s.isFormValid},"Generar Reporte",8,O)],32)])])):g("",!0)])],64)}const z=w(x,[["render",A]]);export{z as default};
